{{extend 'layout.html'}}

<section class="mainContent">
	<article>
		
		<header>
			<h3> {{=T('Clients Panel')}} </h3>
			<hr />
			<nav class="mainGuideMenu">
				<ul>
					<li>
						<a href="{{=URL('client', 'new')}}">{{=T('Insert new client')}}</a>
					</li>
					<li>
						<a href="{{=URL('project', 'index')}}">{{=T('Visualize projects')}}</a>
					</li>
				</ul>
			</nav>
			<hr />
		</header>
		
		<div class="contentHolder">
			<section>
				<article>
					<header>
						<h4>{{=T('All visible clients')}}</h4>
						<hr />
					</header>
					<div>
						{{if clients.get({'visibility': True}):}}
							<table>
								<th>
									<tr>
										<td>{{=T('Client name')}}</td>
										<td>{{=T('Creation date')}}</td>
										<td></td>
									</tr>
								</th>
								<tbody>
									{{for row in clients.get({'visibility': True}, order='created_on'):}}
										<tr>
											<td>{{=row.name}}</td>
											<td>{{='{0:%d/%m/%y - %H:%M:%S}'.format(row.created_on)}}</td>
											<td>{{=A( T('View details of this client'), _href=URL('client', 'profile', args=[row.id]) )}}</td>
										</tr>
									{{pass}}
								</tbody>
							</table>
						{{else:}}
							{{=SPAN( P( T( 'Not clients registered.' ), ' ', A( T('Insert new'), _href=URL('client', 'new') ) ) )}}
					   	{{pass}}
					</div>
					<footer>
					</footer>
				</article>
			</section>
		</div>
		
		<footer>
		    
		</footer>

	</article>
</section>
